if(function(){"use strict";angular.module("risevision.widget.common.storage-selector",["ui.bootstrap"]).directive("storageSelector",["$window","$templateCache","$modal","$sce",function(e,t,o,n){return{restrict:"EA",scope:{local:"@",useCtrl:"@",companyid:"="},template:t.get("storage-selector.html"),link:function(t,r){t.storageUrl=t.local?"http://storage.risevision.com/storage-modal.html#/files/local":"http://storage.risevision.com/storage-modal.html#/files/"+r.companyId,t.open=function(){var s=o.open({templateUrl:r.instanceTemplate||"storage.html",controller:t.useCtrl||"StorageCtrl",size:"lg",backdrop:!0,resolve:{storageUrl:function(){return{url:n.trustAsResourceUrl(t.storageUrl)}}}});e.addEventListener("message",function(e){"http://storage.risevision.com"===e.origin&&("close"===e.data&&s.dismiss(),console.log(e.data))},!1),s.result.then(function(){console.log("Finished")},function(){console.log("Modal dismissed at : "+new Date)})}}}}]).controller("StorageCtrl",function(e,t,o){e.storageUrl=o,e.ok=function(){t.close()},e.cancel=function(){t.dismiss("cancel")}})}(),"undefined"==typeof CONFIG)var CONFIG={};if("undefined"==typeof CONFIG)var CONFIG={};if("undefined"==typeof CONFIG)var CONFIG={};if("undefined"==typeof CONFIG)var CONFIG={};!function(){try{app=angular.module("risevision.widget.common.storage-selector")}catch(e){app=angular.module("risevision.widget.common.storage-selector",[])}app.run(["$templateCache",function(e){"use strict";e.put("storage-selector.html",'<button class="btn btn-widget-icon-storage" ng-click="open()" type="button" />\n<script type="text/ng-template" id="storage.html">\n        <iframe class="modal-dialog" scrolling="no" marginwidth="0" src="{{ storageUrl.url }}"></iframe>\n</script>\n')}])}();